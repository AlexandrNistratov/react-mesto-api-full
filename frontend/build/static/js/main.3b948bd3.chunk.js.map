{"version":3,"sources":["image/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/Login.js","components/Register.js","image/Union.svg","image/UnionError.svg","components/InfoTooltip.js","utils/Auth.js","utils/Api.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onClick","email","className","src","logo","alt","exact","path","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardClick","cards","avatar","about","map","Footer","PopupWithForm","isOpen","container","onClose","title","children","type","submit","textSubmitButton","onSubmit","noValidate","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","required","minLength","maxLength","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","Login","handleLogin","logEmail","logPassword","data","setData","message","handleChange","suggested","password","Register","handleRegister","regEmail","regPassword","InfoTooltip","status","isInfoTooltipOpen","UnionError","Union","BASE_URL","checkResponse","response","ok","json","Promise","reject","api","config","this","_url","url","_headers","headers","fetch","method","then","res","body","JSON","stringify","likeId","authorization","AddPlacePopup","newCardNameRef","newCardLinkRef","ProtectedRoute","Component","component","props","loggedIn","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setInfoTooltipOpen","isTooltipStatus","setTooltipStatus","setCurrentUser","history","useHistory","setLoggedIn","userData","setUserData","handleInfoTooltipOpen","closeAllPopups","jwt","localStorage","getItem","token","push","catch","err","console","log","tokenCheck","getUserInfo","alert","setCards","setItem","Auth","getAllCards","Provider","removeItem","dislikeCard","item","likeCard","newCard","newCards","c","deleteCards","filterCard","filter","undefined","setTimeout","addUserAvatar","addUserInfo","addNewCards","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b948bd3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../image/logo.svg';\nimport React from 'react'\nimport {Route, Switch, Link} from 'react-router-dom';\n\nfunction Header({onClick, email}) {\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\"/>\n            <Switch>\n                <Route exact path='/'>\n                    <nav className=\"header__nav\">\n                        <p className='header__nav-email'>{email.email}</p>\n                        <Link className='header__nav-link' onClick={onClick} to=\"/sign-up\">Выйти</Link>\n                    </nav>\n                </Route>\n                <Route exact path='/sign-up'>\n                    <nav className=\"header__nav\">\n                        <Link className='header__nav-link' to=\"/sign-in\">Вход</Link>\n                    </nav>\n                </Route>\n                <Route exact path='/sign-in'>\n                    <nav className=\"header__nav\">\n                        <Link className='header__nav-link' to=\"/sign-up\">Регистрация</Link>\n                    </nav>\n                </Route>\n            </Switch>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = card.owner._id === currentUser._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n        `card__del ${isOwn ? 'card__del-active' : 'card__del'}`\n    );\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n        `card__button ${isLiked ? 'card__button-like' : 'card__button'}`\n    );\n\n    function handleClick() {\n        onCardClick(card);\n    }\n\n    function handleLikeClick() {\n        onCardLike(card)\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card)\n    }\n\n    return (\n        <li className=\"card\">\n            <img className=\"card__image\" src={card.link} alt={card.name}\n                 onClick={handleClick}/>\n            <button className={cardDeleteButtonClassName}\n                    onClick={handleDeleteClick}>\n            </button>\n            <div className=\"card__items\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__item\">\n                    <button className={cardLikeButtonClassName}\n                            onClick={handleLikeClick}>\n                    </button>\n                    <p className=\"card__number-likes\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, handleCardClick, cards, onCardDelete, onCardLike}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__info\">\n                    <div className=\"profile__avatar\">\n                        <img className=\"profile__avatar-image\" src={currentUser.avatar} alt=\"Аватарка\"/>\n                        <div className=\"profile__overlay\"\n                             onClick={onEditAvatar}>\n                            <button className=\"profile__edit-avatar\"></button>\n                        </div>\n                    </div>\n                    <div className=\"profile__text\">\n                        <div className=\"profile__block\">\n                            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n                            <button className=\"profile__edit-button\"\n                                    onClick={onEditProfile}>\n                            </button>\n                        </div>\n                        <p className=\"profile__info-text\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"profile__add-button\"\n                        onClick={onAddPlace}>\n                </button>\n            </section>\n            <section className=\"elements\">\n                {\n                    cards.map((card) => <Card key={card._id} card={card} onCardClick={handleCardClick}\n                                              onCardLike={onCardLike} onCardDelete={onCardDelete}/>)\n                }\n            </section>\n        </main>\n    )\n\n}\n\nexport default Main;","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy;&nbsp;2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\nfunction PopupWithForm({ isOpen, name, container, onClose, title, children, type, submit, textSubmitButton, onSubmit}) {\n    return (\n        <div className={isOpen ? `popup popup__${name} popup_is-opened` : `popup popup__${name}`}>\n            <div className={`popup__container popup__container-${container}`}>\n                <form onSubmit={onSubmit} className={`popup__form popup__form-${name}`} name=\"information\" noValidate >\n                    <button className={`popup__close`} type=\"button\"\n                            onClick={onClose}>\n                    </button>\n                    <h2 className={`popup__title popup__title-${type}`}>{title}</h2>\n                    {children}\n                    <button className={`popup__submit popup__submit-${submit}`} type=\"submit\">{textSubmitButton}</button>\n                </form>\n            </div>\n        </div>\n    )\n}\nexport default PopupWithForm;","function ImagePopup({card, onClose}) {\n    return (\n        <div className={card ? \"popup popup__open-card popup_is-opened\" : \"popup popup__open-card\"}>\n            <div className=\"popup__card\">\n                <button className=\"popup__close popup__close-card\" type=\"button\"\n                        onClick={onClose}>\n                </button>\n                <img className=\"popup__image\" src={card ? card.link : \"\"}\n                     alt={card ? card.name : \"\"}/>\n                <h2 className=\"popup__text\">{card ? card.name : \"\"}</h2>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value)\n    }\n\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"info\"\n            container=\"min\"\n            title=\"Редактировать профиль\"\n            submit=\"min\"\n            textSubmitButton=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input className=\"popup__input popup__input_type_firstname\" id=\"user-name\" required minLength=\"2\"\n                   maxLength=\"40\"\n                   type=\"text\" placeholder=\"Имя\" name=\"firstname\" value={name || ''} onChange={handleChangeName}/>\n            <span className=\"error\" id=\"user-name-error\"/>\n            <input className=\"popup__input popup__input_type_career\" id=\"user-career\" required minLength=\"2\"\n                   maxLength=\"200\"\n                   type=\"text\" placeholder=\"Работа\" name=\"career\" value={description || ''}\n                   onChange={handleChangeDescription}/>\n            <span className=\"error\" id=\"user-career-error\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        });\n\n    }\n\n    React.useEffect(() => {\n        if (isOpen) {\n            avatarRef.current.value = '';\n        }\n    }, [isOpen])\n\n    return (\n        <PopupWithForm\n            name=\"avatar-edit\"\n            container=\"avatar-edit\"\n            title=\"Обновить аватар\"\n            submit=\"avatar-edit\"\n            textSubmitButton=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input type=\"url\" className=\"popup__input popup__input_avatar-edit\" id=\"link-avatar\" required\n                   placeholder=\"Ссылка на картинку\" name=\"link\" ref={avatarRef}/>\n            <span className=\"error\" id=\"link-avatar-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nfunction Login({handleLogin}) {\n    const [data, setData] = React.useState({\n        logEmail: '',\n        logPassword: ''\n    });\n\n    const [message, setMessage] = React.useState('');\n\n    function handleChange(e) {\n        const {name, value} = e.target;\n        setData({\n            ...data,\n            [name]: value\n        })\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        if (!data.logEmail || !data.logPassword) {\n            return;\n        }\n        handleLogin(data.logEmail, data.logPassword);\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"auth__container\">\n                <form className=\"auth__form\"\n                      name=\"logForm\"\n                      onSubmit={handleSubmit}\n                >\n                    <h2 className=\"auth__title\">Вход</h2>\n                    <input className=\"auth__input\"\n                           id=\"user-email\"\n                           required\n                           minLength=\"2\"\n                           maxLength=\"40\"\n                           type=\"email\"\n                           placeholder=\"email\"\n                           name=\"logEmail\"\n                           value={data.email}\n                           onChange={handleChange}/>\n                    <span className=\"error\" id=\"user-email-error\">{message}</span>\n                    <input className=\"auth__input\"\n                           id=\"user-password\"\n                           required\n                           minLength=\"2\"\n                           maxLength=\"40\"\n                           type=\"password\"\n                           suggested=\"current-password\"\n                           placeholder=\"Пароль\"\n                           name=\"logPassword\"\n                           value={data.password}\n                           onChange={handleChange}/>\n                    <span className=\"error\" id=\"user-password-error\">{message}</span>\n                    <button className=\"auth__submit\" type=\"submit\">Войти</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport {Route, Switch, Link} from 'react-router-dom';\n\nfunction Register({handleRegister}) {\n    const [data, setData] = React.useState({\n        regEmail: '',\n        regPassword: ''\n    });\n\n    function handleChange(e) {\n        const {name, value} = e.target;\n\n        setData({\n            ...data,\n            [name]: value\n        })\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const {regEmail, regPassword} = data;\n\n        handleRegister(regEmail, regPassword);\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"auth__container\">\n                <form className=\"auth__form\"\n                      name=\"logForm\"\n                      onSubmit={handleSubmit}\n                >\n                    <h2 className=\"auth__title\">Регистрация</h2>\n                    <input className=\"auth__input\"\n                           id=\"user-email\"\n                           required\n                           minLength=\"2\"\n                           maxLength=\"40\"\n                           type=\"email\"\n                           placeholder=\"email\"\n                           name=\"regEmail\"\n                           value={data.email}\n                           onChange={handleChange}/>\n                    <span className=\"error\" id=\"user-email-error\"></span>\n                    <input className=\"auth__input\"\n                           id=\"user-password\"\n                           required\n                           minLength=\"2\"\n                           maxLength=\"40\"\n                           type=\"password\"\n                           suggested=\"current-password\"\n                           placeholder=\"Пароль\"\n                           name=\"regPassword\"\n                           value={data.password}\n                           onChange={handleChange}/>\n                    <span className=\"error\" id=\"user-password-error\"></span>\n                    <button className=\"auth__submit\" type=\"submit\">Зарегистрироваться</button>\n                    <Switch>\n                        <Route exact path='/sign-up'>\n                                <Link className='auth__subtitle' to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n                        </Route>\n                    </Switch>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Register;","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/UnionError.df8eddf6.svg\";","import React from 'react';\n\nimport Union from '../image/Union.svg'\nimport UnionError from '../image/UnionError.svg'\n\nfunction InfoTooltip({status, onClose, isInfoTooltipOpen}) {\n    return (\n        <div className={isInfoTooltipOpen ? `popup popup__result popup_is-opened` : `popup popup__result`}>\n            <div className=\"popup__container popup__container-result\">\n                <button className=\"popup__close popup__close-result\" type=\"button\"\n                        onClick={onClose}>\n                </button>\n                <img className=\"popup__result_image\" alt='Ошибка регистрации'\n                     src={status === 'error' ? UnionError : Union}/>\n                <div className=\"popup__result_container_text\">\n                    <h2 className=\"popup__result_text\">{status === 'error' ? 'Что-то пошло не так! Попробуйте ещё раз.' : 'Вы успешно зарегистрировались!'}.</h2>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({email, password})\n    })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n        })\n    // .then(checkResponse)\n\n}\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({email, password})\n    })\n        .then(checkResponse)\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem('jwt', data.token);\n                return data;\n            }\n        })\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(checkResponse);\n}\n\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject('Ошибка на сервере');","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  getUserInfo () {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addUserInfo (data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  getAllCards() {\n    return fetch(this._url,{\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addNewCards(data) {\n    return fetch(this._url,{\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  deleteCards(id) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/${id}`,{\n      method: 'DELETE',\n      headers: this._headers,\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n    })\n  }\n\n  likeCard(likeId) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${likeId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }else  {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  dislikeCard(likeId) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${likeId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }else  {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addUserAvatar (data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me/avatar ', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n}\n\nexport  const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-18/cards',\n  headers: {\n    authorization: 'e2315ec0-9d36-47b6-91be-ca15417afdd8',\n    'content-type': 'application/json'\n  }\n});\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n    const newCardNameRef = React.useRef();\n    const newCardLinkRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onAddPlace({\n            name: newCardNameRef.current.value,\n            link: newCardLinkRef.current.value\n        });\n    }\n\n    React.useEffect(() => {\n        if (isOpen) {\n            newCardNameRef.current.value = '';\n            newCardLinkRef.current.value = '';\n        }\n    }, [isOpen])\n\n    return (\n        <PopupWithForm\n            name=\"add-image\"\n            title=\"Новое место\"\n            type=\"min\"\n            submit=\"image-button\"\n            textSubmitButton=\"Создать\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input className=\"popup__input popup__input_type_name\" id=\"name-card\" required minLength=\"2\"\n                   maxLength=\"30\"\n                   type=\"text\" placeholder=\"Название\" name=\"name\" ref={newCardNameRef}/>\n            <span className=\"error\" id=\"name-card-error\"></span>\n            <input type=\"url\" className=\"popup__input popup__input_type_link\" id=\"link\" required\n                   placeholder=\"Ссылка на картинку\"\n                   name=\"link\" ref={newCardLinkRef}/>\n            <span className=\"error\" id=\"link-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n    return (\n        <Route>\n            {\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\"/>\n            }\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;","import '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\n\nimport {Redirect, Route, Switch, useHistory} from 'react-router-dom';\n\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip'\nimport * as Auth from '../utils/Auth';\n\nimport React from 'react';\nimport {api} from '../utils/Api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport AddPlacePopup from './AddPlacePopup';\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n    const [isTooltipStatus, setTooltipStatus] = React.useState('success');\n\n    const [currentUser, setCurrentUser] = React.useState('');\n\n    const history = useHistory();\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [userData, setUserData] = React.useState({\n        email: '',\n        password: ''\n    });\n\n\n    React.useEffect(() => {\n        tokenCheck();\n    }, []);\n\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then(res => {\n                setCurrentUser(res)\n            }).catch((err) => alert(err));\n    }, [])\n\n    function handleInfoTooltipOpen(status) {\n        setInfoTooltipOpen(true);\n        setTooltipStatus(status);\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(data) {\n        setSelectedCard(data);\n    }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false);\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setInfoTooltipOpen(false)\n        setSelectedCard(null);\n    }\n\n    //Изменение инфо\n    function handleUpdateUser(data) {\n        api.addUserInfo(data).then((res) => {\n            setCurrentUser(res);\n            closeAllPopups();\n        }).catch((err) => alert(err));\n    }\n\n    // Изменение аватара\n    function handleUpdateAvatar(data) {\n        api.addUserAvatar(data).then((res) => {\n            setCurrentUser(res);\n            closeAllPopups();\n        }).catch((err) => alert(err));\n    }\n\n    //Отрисовка карточек с сервера\n    const [cards, setCards] = React.useState([]);\n    React.useEffect(() => {\n        api.getAllCards()\n            .then(data => {\n                setCards(data)\n            }).catch((err) => alert(err));\n    }, []);\n\n    // Лайк\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        isLiked ? (\n            //Отправляем запрос для удаления лайка\n            api.dislikeCard(card._id).then((res) => {\n                const dislikeCard = cards.map((item) => item._id === card._id ? res : item);\n                setCards(dislikeCard)\n            }).catch((err) => alert(err))\n        ) : (\n            // Отправляем запрос в API и получаем обновлённые данные карточки\n            api.likeCard(card._id, !isLiked).then((newCard) => {\n                // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                // Обновляем стейт\n                setCards(newCards);\n            }).catch((err) => alert(err))\n        )\n    }\n\n    // Удаление карточки\n    function handleCardDelete(card) {\n        // Определяем, являемся ли мы владельцем текущей карточки\n        const isOwn = card.owner._id === currentUser._id;\n\n        if (isOwn) {\n            api.deleteCards(card._id).then(() => {\n                const filterCard = cards.filter((item) => item._id !== card._id)\n                setCards(filterCard);\n            }).catch((err) => alert(err));\n        }\n    }\n\n    //Создаем новую карточку\n    function handleAddPlaceSubmit(data) {\n        api.addNewCards(data).then((newCard) => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        }).catch((err) => alert(err));\n    }\n\n\n    function tokenCheck() {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            Auth.getContent(jwt)\n                .then((res) => {\n                    const userData = {\n                        email: res.data.email,\n                        password: res.data.password\n                    }\n                    setUserData(userData);\n                    setLoggedIn(true);\n                    history.push('/');\n                }).catch(err => {\n                console.log(err)\n            })\n        }\n    }\n\n    function handleLogin(email, password) {\n        Auth.authorize(email, password)\n            .then((data) => {\n                if (data.token) {\n                    localStorage.setItem('jwt', data.token);\n                    setLoggedIn(true)\n                    history.push('/');\n                }\n            }).catch(err => console.log(err))\n    }\n\n    function handleRegister(email, password) {\n        Auth.register(email, password)\n            .then((res) => {\n                // console.log(res)\n                if (res !== undefined && res.data._id) {\n                    setUserData({\n                        email: res.data.email\n                    })\n                    handleInfoTooltipOpen();\n                    setTimeout(() => {\n                        handleLogin(email, password);\n                    }, 300);\n                } else {\n                    handleInfoTooltipOpen('error');\n                }\n            })\n    }\n\n    function handleLogout() {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n        history.push('/sign-in')\n\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"App\">\n                <Header\n                    loggedIn={loggedIn}\n                    onClick={handleLogout}\n                    email={userData}\n                />\n                <Switch>\n                    <ProtectedRoute\n                        exact\n                        path='/'\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        handleCardClick={handleCardClick}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n                    />\n                    <Route path='/sign-in'>\n                        <Login handleLogin={handleLogin}/>\n                    </Route>\n                    <Route path='/sign-up'>\n                        <Register handleRegister={handleRegister}/>\n                    </Route>\n                    <Route>\n                        {loggedIn ? <Redirect to='/'/> : <Redirect to='/sign-in'/>}\n                    </Route>\n                </Switch>\n                <Footer/>\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                />\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlaceSubmit}\n                />\n                <PopupWithForm\n                    name=\"popup__with-submit\"\n                    container=\"popup__container-with-submit\"\n                    title=\"Вы уверены?\"\n                    submit=\"popup__submit-with-submit\"\n                    type=\"popup__title-with-submit\"\n                />\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n                <InfoTooltip\n                    onClose={closeAllPopups}\n                    isInfoTooltipOpen={isInfoTooltipOpen}\n                    status={isTooltipStatus}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport {BrowserRouter} from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}